pre-commit:
  parallel: true
  commands:
    sync-lockfile:
      run: pnpm install && git add pnpm-lock.yaml
    lint:
      run: pnpm lint
    security:
      run: pnpm lint:security
    knip:
      run: pnpm knip
    test:
      run: pnpm test

pre-push:
  parallel: false
  commands:
    typecheck:
      run: tsc --noEmit
    site-check:
      run: pnpm --filter site astro check
    build:
      run: pnpm build
    publint:
      run: pnpm check:exports
